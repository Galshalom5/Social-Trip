{"ast":null,"code":"import _objectSpread from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/galshalom/Desktop/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/galshalom/Desktop/Social-Trip/src/Admin/FeedBackMangment.js\";\nimport React, { Component } from \"react\";\nimport { db } from \"../index\";\nimport $ from \"jquery\";\nimport { MDBContainer, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBInput, MDBBtn } from \"mdbreact\";\nimport FeedBackTable from \"./Components/FeedBackTable.js\";\nimport \"../css/Admin.css\";\n\nvar FeedBackMangement = /*#__PURE__*/function (_Component) {\n  _inherits(FeedBackMangement, _Component);\n\n  var _super = _createSuper(FeedBackMangement);\n\n  function FeedBackMangement() {\n    var _this;\n\n    _classCallCheck(this, FeedBackMangement);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      modal16: false,\n      feedBackName: \"\",\n      feedBackText: \"\"\n    };\n\n    _this.deleteFeedBack = function (id) {\n      var itemId = id;\n      db.collection(\"FeedBack\").doc(\"\".concat(id)).delete().then(function () {\n        console.log(\"Document successfully deleted!\");\n\n        var tempFeedBack = _this.state.feedBack.filter(function (item, index) {\n          if (itemId != item.id) {\n            return item;\n          }\n        });\n\n        _this.setState({\n          feedBack: tempFeedBack\n        });\n      }).catch(function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    };\n\n    _this.addFeedBack = function (name, txt) {\n      _this.setState({\n        [\"modal16\"]: !_this.state[\"modal16\"]\n      });\n\n      $(\".feedBackForm\")[0].classList.remove(\"was-validated\");\n      db.collection(\"FeedBack\").add({\n        name: name,\n        feedBackTxt: txt\n      }).then(function (docRef) {\n        docRef.get().then(function (doc) {\n          _this.setState({\n            feedBack: [].concat(_toConsumableArray(_this.state.feedBack), [doc])\n          });\n        });\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n    };\n\n    _this.toggle = function (nr) {\n      return function () {\n        var modalNumber = \"modal\" + nr;\n\n        _this.setState({\n          [modalNumber]: !_this.state[modalNumber]\n        });\n      };\n    };\n\n    _this.fetchData = function () {\n      db.collection(\"FeedBack\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (item, index) {\n          _this.setState({\n            feedBack: [].concat(_toConsumableArray(_this.state.feedBack), [item])\n          });\n        });\n      });\n    };\n\n    _this.submitHandler = function (name, txt) {\n      if ($(\".feedBackForm\")[0].checkValidity()) {\n        _this.addFeedBack(name, txt);\n      }\n\n      $(\".feedBackForm\")[0].classList.add(\"was-validated\");\n    };\n\n    return _this;\n  }\n\n  _createClass(FeedBackMangement, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(MDBContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(FeedBackTable, {\n        deleteFeedBack: this.deleteFeedBack,\n        toggle: this.toggle // feedBack={this.state.feedBack}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(MDBModal, {\n        position: \"left-top\",\n        isOpen: this.state.modal16,\n        toggle: this.toggle(16),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(MDBModalHeader, {\n        dir: \"rtl\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }, \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05E4\\u05D9\\u05D3\\u05D1\\u05E7\"), /*#__PURE__*/React.createElement(MDBModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        noValidate: true,\n        className: \"needs-validation feedBackForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MDBInput, {\n        required: true,\n        type: \"text\",\n        className: \"col text-right\",\n        hint: \"\\u05E9\\u05DD \\u05DB\\u05D5\\u05EA\\u05D1 \\u05D4\\u05E4\\u05D9\\u05D3\\u05D1\\u05E7\",\n        getValue: function getValue(e) {\n          return _this2.setState(_objectSpread(_objectSpread({}, _this2.state), {}, {\n            feedBackName: e\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"invalid-tooltip\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, \"\\u05D7\\u05D5\\u05D1\\u05D4 \\u05DC\\u05D4\\u05DB\\u05E0\\u05D9\\u05E1 \\u05E9\\u05DD \\u05DB\\u05D5\\u05EA\\u05D1\")), /*#__PURE__*/React.createElement(MDBInput, {\n        required: true,\n        hint: \"\\u05EA\\u05D5\\u05DB\\u05DF \\u05D4\\u05E4\\u05D9\\u05D3\\u05D1\\u05E7\",\n        type: \"textarea\",\n        className: \"col text-right\",\n        getValue: function getValue(e) {\n          return _this2.setState(_objectSpread(_objectSpread({}, _this2.state), {}, {\n            feedBackText: e\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"invalid-tooltip\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, \"\\u05D7\\u05D5\\u05D1\\u05D4 \\u05DC\\u05D4\\u05DB\\u05E0\\u05D9\\u05E1 \\u05EA\\u05D5\\u05DB\\u05DF\")))), /*#__PURE__*/React.createElement(MDBModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(MDBBtn, {\n        color: \"danger\",\n        onClick: this.toggle(16),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }\n      }, \"\\u05E1\\u05D2\\u05D5\\u05E8\"), /*#__PURE__*/React.createElement(MDBBtn, {\n        onClick: function onClick() {\n          _this2.submitHandler(_this2.state.feedBackName, _this2.state.feedBackText);\n        },\n        color: \"warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, \"\\u05E9\\u05DC\\u05D7 \\u05E4\\u05D9\\u05D3\\u05D1\\u05E7\"))));\n    }\n  }]);\n\n  return FeedBackMangement;\n}(Component);\n\nexport default FeedBackMangement;","map":{"version":3,"sources":["/Users/galshalom/Desktop/Social-Trip/src/Admin/FeedBackMangment.js"],"names":["React","Component","db","$","MDBContainer","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","MDBInput","MDBBtn","FeedBackTable","FeedBackMangement","state","modal16","feedBackName","feedBackText","deleteFeedBack","id","itemId","collection","doc","delete","then","console","log","tempFeedBack","feedBack","filter","item","index","setState","catch","error","addFeedBack","name","txt","classList","remove","add","feedBackTxt","docRef","get","toggle","nr","modalNumber","fetchData","querySnapshot","forEach","submitHandler","checkValidity","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { db } from \"../index\";\nimport $ from \"jquery\";\nimport {\n  MDBContainer,\n  MDBModal,\n  MDBModalBody,\n  MDBModalHeader,\n  MDBModalFooter,\n  MDBInput,\n  MDBBtn,\n} from \"mdbreact\";\nimport FeedBackTable from \"./Components/FeedBackTable.js\";\nimport \"../css/Admin.css\";\nclass FeedBackMangement extends Component {\n  state = {\n    modal16: false,\n    feedBackName: \"\",\n    feedBackText: \"\",\n  };\n \n  deleteFeedBack = (id) => {\n    var itemId = id;\n    db.collection(\"FeedBack\")\n      .doc(`${id}`)\n      .delete()\n      .then(() => {\n        console.log(\"Document successfully deleted!\");\n        var tempFeedBack = this.state.feedBack.filter((item, index) => {\n          if (itemId != item.id) {\n            return item;\n          }\n        });\n        this.setState({\n          feedBack: tempFeedBack,\n        });\n      })\n      .catch(function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n  };\n  addFeedBack = (name, txt) => {\n    this.setState({\n      [\"modal16\"]: !this.state[\"modal16\"],\n    });\n    $(\".feedBackForm\")[0].classList.remove(\"was-validated\");\n    db.collection(\"FeedBack\")\n      .add({\n        name: name,\n        feedBackTxt: txt,\n      })\n      .then((docRef) => {\n        docRef.get().then((doc) => {\n          this.setState({\n            feedBack: [...this.state.feedBack, doc],\n          });\n        });\n      })\n      .catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n  };\n\n  toggle = (nr) => () => {\n    let modalNumber = \"modal\" + nr;\n    this.setState({\n      [modalNumber]: !this.state[modalNumber],\n    });\n  };\n\n  fetchData = () => {\n    db.collection(\"FeedBack\")\n      .get()\n      .then((querySnapshot) => {\n        querySnapshot.forEach((item, index) => {\n          this.setState({\n            feedBack: [...this.state.feedBack, item],\n          });\n        });\n      });\n  };\n  componentDidMount() {\n    this.fetchData();\n  }\n  submitHandler = (name, txt) => {\n    if ($(\".feedBackForm\")[0].checkValidity()) {\n      this.addFeedBack(name, txt);\n    }\n    $(\".feedBackForm\")[0].classList.add(\"was-validated\");\n  };\n\n  render() {\n    return (\n      <MDBContainer>\n        <FeedBackTable\n\n          deleteFeedBack={this.deleteFeedBack}\n          toggle={this.toggle}\n          // feedBack={this.state.feedBack}\n        />\n        <MDBModal\n          position=\"left-top\"\n          isOpen={this.state.modal16}\n          toggle={this.toggle(16)}\n        >\n          <MDBModalHeader dir=\"rtl\">הוסף פידבק</MDBModalHeader>\n          <MDBModalBody>\n            <form noValidate className=\"needs-validation feedBackForm\">\n              <MDBInput\n                required\n                type=\"text\"\n                className=\"col text-right\"\n                hint=\"שם כותב הפידבק\"\n                getValue={(e) =>\n                  this.setState({ ...this.state, feedBackName: e })\n                }\n              >\n                <div className=\"invalid-tooltip\">חובה להכניס שם כותב</div>\n              </MDBInput>\n\n              <MDBInput\n                required\n                hint=\"תוכן הפידבק\"\n                type=\"textarea\"\n                className=\"col text-right\"\n                getValue={(e) =>\n                  this.setState({ ...this.state, feedBackText: e })\n                }\n              >\n                <div className=\"invalid-tooltip\">חובה להכניס תוכן</div>\n              </MDBInput>\n            </form>\n          </MDBModalBody>\n          <MDBModalFooter>\n            <MDBBtn color=\"danger\" onClick={this.toggle(16)}>\n              סגור\n            </MDBBtn>\n            <MDBBtn\n              onClick={() => {\n                this.submitHandler(\n                  this.state.feedBackName,\n                  this.state.feedBackText\n                );\n              }}\n              color=\"warning\"\n            >\n              שלח פידבק\n            </MDBBtn>\n          </MDBModalFooter>\n        </MDBModal>\n      </MDBContainer>\n    );\n  }\n}\n\nexport default FeedBackMangement;\n"]},"metadata":{},"sourceType":"module"}