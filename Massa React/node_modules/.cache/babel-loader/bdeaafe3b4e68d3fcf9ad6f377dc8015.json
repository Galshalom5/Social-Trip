{"ast":null,"code":"import _classCallCheck from \"/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/src/components/FileInput.js\";\nimport React, { Component } from 'react';\nimport Resizer from 'react-image-file-resizer';\nimport { storage } from 'firebase';\n\nvar FileInput = /*#__PURE__*/function (_Component) {\n  _inherits(FileInput, _Component);\n\n  var _super = _createSuper(FileInput);\n\n  function FileInput() {\n    var _this;\n\n    _classCallCheck(this, FileInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.checkAndResize = function (e) {\n      var storageRef = storage.ref();\n      var imagesRef = storageRef.child('CaruselPhotos');\n      imagesRef.listAll();\n\n      if (e.target.files[0].type !== 'image/png' && e.target.files[0].type !== 'image/jpeg' && e.target.files[0].type !== 'image/jpg') {\n        return alert('Wrong file type\\nAcceptable types:\\npng, jpg, jpeg');\n      }\n\n      Resizer.imageFileResizer(e.target.files[0], //is the file of the new image that can now be uploaded...\n      1466, // is the maxWidth of the  new image\n      944, // is the maxHeight of the  new image\n      'JPEG', // is the compressFormat of the  new image\n      100, // is the quality of the  new image\n      0, // is the rotatoion of the  new image\n      function (uri) {\n        // is the callBack function of the new image URI\n        console.log(uri);\n        imagesRef.put(uri).then(function (snapshot) {\n          console.log('Uploaded a blob or file!');\n        });\n      }, 'blob' // is the output type of the new image\n      );\n    };\n\n    return _this;\n  }\n\n  _createClass(FileInput, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input-group-text\",\n        id: \"inputGroupFileAddon01\",\n        style: {\n          cursor: 'pointer'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, \"Upload\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"custom-file\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        className: \"custom-file-input\",\n        id: \"inputGroupFile01\",\n        \"aria-describedby\": \"inputGroupFileAddon01\",\n        style: {\n          cursor: 'pointer'\n        },\n        onChange: this.checkAndResize,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"custom-file-label\",\n        htmlFor: \"inputGroupFile01\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, \"Choose file\")));\n    }\n  }]);\n\n  return FileInput;\n}(Component);\n\nexport default FileInput;","map":{"version":3,"sources":["/Users/megetzi/Documents/GitHub/Social-Trip/Massa React/src/components/FileInput.js"],"names":["React","Component","Resizer","storage","FileInput","checkAndResize","e","storageRef","ref","imagesRef","child","listAll","target","files","type","alert","imageFileResizer","uri","console","log","put","then","snapshot","cursor"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAASC,OAAT,QAAwB,UAAxB;;IAIOC,S;;;;;;;;;;;;;;;;UAEPC,c,GAAiB,UAACC,CAAD,EACjB;AACI,UAAMC,UAAU,GAAGJ,OAAO,CAACK,GAAR,EAAnB;AACA,UAAMC,SAAS,GAAGF,UAAU,CAACG,KAAX,CAAiB,eAAjB,CAAlB;AACAD,MAAAA,SAAS,CAACE,OAAV;;AACA,UAAGL,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAlB,KAA2B,WAA3B,IAA0CR,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAlB,KAA2B,YAArE,IAAqFR,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAlB,KAA2B,WAAnH,EACA;AACC,eAAOC,KAAK,CAAC,oDAAD,CAAZ;AACA;;AACDb,MAAAA,OAAO,CAACc,gBAAR,CACIV,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CADJ,EACsB;AAClB,UAFJ,EAEU;AACN,SAHJ,EAGS;AACL,YAJJ,EAIY;AACR,SALJ,EAKS;AACL,OANJ,EAMO;AACH,gBAAAI,GAAG,EAAI;AAAE;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAR,QAAAA,SAAS,CAACW,GAAV,CAAcH,GAAd,EACCI,IADD,CACM,UAACC,QAAD,EAAc;AAChBJ,UAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACH,SAHD;AAKH,OAdL,EAeI,MAfJ,CAeY;AAfZ;AAkBH,K;;;;;;;6BAEY;AACL,0BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,uBAAtC;AAA8D,QAAA,KAAK,EAAE;AAAEI,UAAAA,MAAM,EAAE;AAAV,SAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADA,eAMA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,mBAFd;AAGI,QAAA,EAAE,EAAC,kBAHP;AAII,4BAAiB,uBAJrB;AAKI,QAAA,KAAK,EAAE;AAAEA,UAAAA,MAAM,EAAE;AAAV,SALX;AAMI,QAAA,QAAQ,EAAE,KAAKlB,cANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eASI;AAAO,QAAA,SAAS,EAAC,mBAAjB;AAAqC,QAAA,OAAO,EAAC,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBATJ,CANA,CADJ;AAsBH;;;;EAtDoBJ,S;;AA0DzB,eAAeG,SAAf","sourcesContent":["import React, { Component } from 'react'\nimport Resizer from 'react-image-file-resizer';\nimport { storage } from 'firebase';\n\n\n\n class FileInput extends Component {\n\ncheckAndResize = (e) =>\n{\n    const storageRef = storage.ref()\n    const imagesRef = storageRef.child('CaruselPhotos')\n    imagesRef.listAll()\n    if(e.target.files[0].type !== 'image/png' && e.target.files[0].type !== 'image/jpeg' && e.target.files[0].type !== 'image/jpg')\n    {\n     return alert('Wrong file type\\nAcceptable types:\\npng, jpg, jpeg')\n    }\n    Resizer.imageFileResizer(\n        e.target.files[0],//is the file of the new image that can now be uploaded...\n        1466, // is the maxWidth of the  new image\n        944, // is the maxHeight of the  new image\n        'JPEG', // is the compressFormat of the  new image\n        100, // is the quality of the  new image\n        0, // is the rotatoion of the  new image\n        uri => { // is the callBack function of the new image URI\n            console.log(uri)\n            imagesRef.put(uri)\n            .then((snapshot) => {\n                console.log('Uploaded a blob or file!')\n            })\n            \n        },  \n        'blob'  // is the output type of the new image\n    )\n\n}\n\n    render() {\n        return (\n            <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\" id=\"inputGroupFileAddon01\" style={{ cursor: 'pointer' }}>\n                 Upload\n                </span>\n            </div>\n            <div className=\"custom-file\">\n                <input\n                    type=\"file\"\n                    className=\"custom-file-input\"\n                    id=\"inputGroupFile01\"\n                    aria-describedby=\"inputGroupFileAddon01\"\n                    style={{ cursor: 'pointer' }}\n                    onChange={this.checkAndResize}\n                />\n                <label className=\"custom-file-label\" htmlFor=\"inputGroupFile01\">\n                Choose file\n                </label>\n            </div>\n        </div>\n        )\n    }\n}\n\n\nexport default FileInput\n\n\n"]},"metadata":{},"sourceType":"module"}