{"ast":null,"code":"import _slicedToArray from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/megetzi/Documents/GitHub/Social-Trip/src/Admin/Components/EventsTable.js\";\n\nimport React from 'react';\nimport { MDBDataTable, MDBContainer, MDBIcon, MDBBtn, MDBModalFooter, MDBModalBody, MDBModalHeader, MDBModal } from 'mdbreact';\nimport { useEffect, useState } from 'react';\nimport { storage, db } from '../../index';\n\nvar EventsTable = function EventsTable() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setopen = _useState2[1];\n\n  var eventNameRef = useRef(null);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      events = _useState4[0],\n      setevents = _useState4[1];\n\n  var objArray = [];\n  var data = {\n    columns: [{\n      label: 'שם',\n      field: 'name',\n      sort: 'asc',\n      width: 150\n    }, {\n      label: 'תאריך',\n      field: 'date',\n      sort: 'asc',\n      width: 270\n    }, {\n      label: 'קהל יעד',\n      field: 'audience',\n      sort: 'asc',\n      width: 200\n    }, {\n      label: 'מחק אירוע',\n      field: 'delete',\n      sort: 'asc',\n      width: 100\n    }, {\n      label: 'צפייה בנרשמים',\n      field: 'participants',\n      sort: 'asc',\n      width: 150\n    }],\n    rows: events\n  };\n\n  var areYouSure = function areYouSure(event, flag) {\n    setopen(true);\n\n    if (flag) {\n      db.collection('events').doc(\"\".concat(event.target.id)).delete().then(function () {\n        return alert('האירוע נמחק בהצלחה');\n      });\n    }\n\n    setopen(false);\n  };\n\n  var deleteHandler = useEffect(function () {\n    var date;\n    db.collection('events').get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (item) {\n        date = item.data().date;\n        date = date.toString().split(\"-\").reverse().join(\"-\");\n        objArray.push({\n          name: item.data().eventName,\n          date: date,\n          audience: item.data().audiance,\n          delete: /*#__PURE__*/React.createElement(MDBBtn, {\n            size: \"sm\",\n            outline: true,\n            color: \"danger\",\n            id: \"\".concat(item.data().eventName),\n            onClick: areYouSure(event, false),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }\n          }, \"\\u05DE\\u05D7\\u05E7\"),\n          participants: /*#__PURE__*/React.createElement(MDBBtn, {\n            size: \"sm\",\n            outline: true,\n            color: \"green\",\n            id: \"\".concat(item.data().eventName),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 39\n            }\n          }, \"\\u05E6\\u05E4\\u05D9\\u05D9\\u05D4 \\u05D1\\u05E0\\u05E8\\u05E9\\u05DE\\u05D9\\u05DD\")\n        });\n      });\n      setevents(objArray);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    style: {\n      backgroundColor: \"white\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBDataTable, {\n    entriesLabel: \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D4\\u05E2\\u05E8\\u05DB\\u05D9\\u05DD \\u05D1\\u05D8\\u05D1\\u05DC\\u05D4\",\n    paginationLabel: [\"הקודם\", \"הבא\"],\n    infoLabel: [\"מראה\", \"עד\", \"מתוך\", \"ערכים\"],\n    className: \"text-right justify-content-center\",\n    searchLabel: \"\\u05D7\\u05D9\\u05E4\\u05D5\\u05E9\",\n    btn: true,\n    scrollY: true,\n    maxHeight: \"40vh\",\n    striped: true,\n    bordered: true,\n    small: true,\n    data: data,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MDBModal, {\n    isOpen: open,\n    toggle: function toggle() {\n      return setopen(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MDBModalHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"MDBModal title\"), /*#__PURE__*/React.createElement(MDBModalBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"), /*#__PURE__*/React.createElement(MDBModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MDBBtn, {\n    outline: true,\n    color: \"secondary\",\n    onClick: function onClick() {\n      return setopen(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"\\u05D1\\u05D9\\u05D8\\u05D5\\u05DC\"), /*#__PURE__*/React.createElement(MDBBtn, {\n    outline: true,\n    color: \"primary\",\n    onClick: areYouSure(event, true),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"\\u05DE\\u05D7\\u05E7\"))));\n};\n\nexport default EventsTable;","map":{"version":3,"sources":["/Users/megetzi/Documents/GitHub/Social-Trip/src/Admin/Components/EventsTable.js"],"names":["React","MDBDataTable","MDBContainer","MDBIcon","MDBBtn","MDBModalFooter","MDBModalBody","MDBModalHeader","MDBModal","useEffect","useState","storage","db","EventsTable","open","setopen","eventNameRef","useRef","events","setevents","objArray","data","columns","label","field","sort","width","rows","areYouSure","event","flag","collection","doc","target","id","delete","then","alert","deleteHandler","date","get","querySnapshot","forEach","item","toString","split","reverse","join","push","name","eventName","audience","audiance","participants","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { MDBDataTable, MDBContainer, MDBIcon, MDBBtn, MDBModalFooter, MDBModalBody, MDBModalHeader, MDBModal } from 'mdbreact';\nimport { useEffect, useState } from 'react'\nimport { storage, db } from '../../index'\n\nconst EventsTable = () => {\n    const [open, setopen] = useState(false)\n    const eventNameRef = useRef(null)\n    const [events, setevents] = useState([])\n    const objArray = []\n    const data = {\n        columns: [\n            {\n                label: 'שם',\n                field: 'name',\n                sort: 'asc',\n                width: 150\n            },\n            {\n                label: 'תאריך',\n                field: 'date',\n                sort: 'asc',\n                width: 270\n            },\n            {\n                label: 'קהל יעד',\n                field: 'audience',\n                sort: 'asc',\n                width: 200\n            },\n            {\n                label: 'מחק אירוע',\n                field: 'delete',\n                sort: 'asc',\n                width: 100\n            },\n            {\n                label: 'צפייה בנרשמים',\n                field: 'participants',\n                sort: 'asc',\n                width: 150\n            },\n        ],\n\n        rows: events\n\n\n    };\n\n    const areYouSure = (event, flag) => {\n        setopen(true)\n        if(flag)\n        {\n            db.collection('events').doc(`${event.target.id}`).delete()\n            .then(() => alert('האירוע נמחק בהצלחה'))\n        }\n        setopen(false)\n    }\n\n    const deleteHandler = \n\n    useEffect(() => {\n        let date\n        db.collection('events').get()\n            .then(querySnapshot => {\n                querySnapshot.forEach(item => {\n                    date = item.data().date\n                    date = date.toString().split(\"-\").reverse().join(\"-\")\n                    objArray.push({\n                        name: item.data().eventName,\n                        date: date,\n                        audience: item.data().audiance,\n                        delete: <MDBBtn size=\"sm\" outline color=\"danger\" id={`${item.data().eventName}`} onClick={areYouSure(event, false)} >מחק</MDBBtn>,\n                        participants: <MDBBtn size=\"sm\" outline color=\"green\" id={`${item.data().eventName}`} >צפייה בנרשמים</MDBBtn>\n                    })\n                })\n                setevents(objArray)\n            })\n    }, [])\n\n    return (\n        <MDBContainer style={{ backgroundColor: \"white\" }}>\n            <MDBDataTable\n                entriesLabel=\"מספר הערכים בטבלה\"\n                paginationLabel={[\"הקודם\", \"הבא\"]}\n                infoLabel={[\"מראה\", \"עד\", \"מתוך\", \"ערכים\"]}\n                className=\"text-right justify-content-center\"\n                searchLabel=\"חיפוש\"\n                btn\n                scrollY\n                maxHeight=\"40vh\"\n                striped\n                bordered\n                small\n                data={data}\n            />\n            <MDBModal isOpen={open} toggle={() => setopen(false)}    >\n                <MDBModalHeader>MDBModal title</MDBModalHeader>\n                <MDBModalBody>\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\n          </MDBModalBody>\n                <MDBModalFooter>\n                    <MDBBtn outline color=\"secondary\" onClick={() => setopen(false)}>ביטול</MDBBtn>\n                    <MDBBtn outline color=\"primary\" onClick={areYouSure(event, true)}>מחק</MDBBtn>\n                </MDBModalFooter>\n            </MDBModal>\n        </MDBContainer>\n    );\n}\n\nexport default EventsTable;"]},"metadata":{},"sourceType":"module"}