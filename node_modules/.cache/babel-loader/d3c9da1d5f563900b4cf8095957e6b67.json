{"ast":null,"code":"import _toConsumableArray from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/megetzi/Documents/GitHub/Social-Trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/megetzi/Documents/GitHub/Social-Trip/src/Admin/ContactUsMangment.js\";\nimport React, { Component } from \"react\";\nimport { db } from \"../index\";\nimport $ from \"jquery\";\nimport { MDBContainer, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBInput, MDBBtn } from \"mdbreact\";\nimport ContactUsTable from \"./Components/ContactUsTable.js\";\nimport \"../css/Admin.css\";\n\nvar ContactUsMangment = /*#__PURE__*/function (_Component) {\n  _inherits(ContactUsMangment, _Component);\n\n  var _super = _createSuper(ContactUsMangment);\n\n  function ContactUsMangment() {\n    var _this;\n\n    _classCallCheck(this, ContactUsMangment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      messages: []\n    };\n\n    _this.deleteMessage = function (id) {\n      var itemId = id;\n      db.collection(\"ContactUs\").doc(\"\".concat(id)).delete().then(function () {\n        console.log(\"Document successfully deleted!\");\n\n        var tempMessage = _this.state.messages.filter(function (item, index) {\n          if (itemId != item.id) {\n            return item;\n          }\n        });\n\n        _this.setState({\n          messages: tempMessage\n        });\n      }).catch(function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n    };\n\n    _this.fetchData = function () {\n      db.collection(\"ContactUs\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (item, index) {\n          _this.setState({\n            messages: [].concat(_toConsumableArray(_this.state.messages), [item])\n          });\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ContactUsMangment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    } //   submitHandler = (name, txt) => {\n    //     console.log(name);\n    //     console.log(txt);\n    //     if ($(\".feedBackForm\")[0].checkValidity()) {\n    //       this.addFeedBack(name, txt);\n    //     }\n    //     $(\".feedBackForm\")[0].classList.add(\"was-validated\");\n    //   };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(MDBContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ContactUsTable, {\n        deleteMessage: this.deleteMessage //   toggle={this.toggle}\n        ,\n        messages: this.state.messages,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return ContactUsMangment;\n}(Component);\n\nexport default ContactUsMangment;","map":{"version":3,"sources":["/Users/megetzi/Documents/GitHub/Social-Trip/src/Admin/ContactUsMangment.js"],"names":["React","Component","db","$","MDBContainer","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","MDBInput","MDBBtn","ContactUsTable","ContactUsMangment","state","messages","deleteMessage","id","itemId","collection","doc","delete","then","console","log","tempMessage","filter","item","index","setState","catch","error","fetchData","get","querySnapshot","forEach"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,EAAT,QAAmB,UAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SACEC,YADF,EAEEC,QAFF,EAGEC,YAHF,EAIEC,cAJF,EAKEC,cALF,EAMEC,QANF,EAOEC,MAPF,QAQO,UARP;AASA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAO,kBAAP;;IACMC,iB;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE;AADJ,K;;UAIRC,a,GAAgB,UAACC,EAAD,EAAQ;AACtB,UAAIC,MAAM,GAAGD,EAAb;AACAd,MAAAA,EAAE,CAACgB,UAAH,CAAc,WAAd,EACGC,GADH,WACUH,EADV,GAEGI,MAFH,GAGGC,IAHH,CAGQ,YAAM;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;;AACA,YAAIC,WAAW,GAAG,MAAKX,KAAL,CAAWC,QAAX,CAAoBW,MAApB,CAA2B,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC5D,cAAIV,MAAM,IAAIS,IAAI,CAACV,EAAnB,EAAuB;AACrB,mBAAOU,IAAP;AACD;AACF,SAJiB,CAAlB;;AAKA,cAAKE,QAAL,CAAc;AACZd,UAAAA,QAAQ,EAAEU;AADE,SAAd;AAGD,OAbH,EAcGK,KAdH,CAcS,UAAUC,KAAV,EAAiB;AACtBR,QAAAA,OAAO,CAACQ,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACD,OAhBH;AAiBD,K;;UA8BDC,S,GAAY,YAAM;AAChB7B,MAAAA,EAAE,CAACgB,UAAH,CAAc,WAAd,EACGc,GADH,GAEGX,IAFH,CAEQ,UAACY,aAAD,EAAmB;AACvBA,QAAAA,aAAa,CAACC,OAAd,CAAsB,UAACR,IAAD,EAAOC,KAAP,EAAiB;AACrC,gBAAKC,QAAL,CAAc;AACZd,YAAAA,QAAQ,+BAAM,MAAKD,KAAL,CAAWC,QAAjB,IAA2BY,IAA3B;AADI,WAAd;AAGD,SAJD;AAKD,OARH;AASD,K;;;;;;;wCACmB;AAClB,WAAKK,SAAL;AACD,K,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;6BAES;AACP,0BACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,cAAD;AACE,QAAA,aAAa,EAAE,KAAKhB,aADtB,CAEE;AAFF;AAGE,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,QAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AA2DD;;;;EAzI6Bb,S;;AA2IhC,eAAeW,iBAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { db } from \"../index\";\r\nimport $ from \"jquery\";\r\nimport {\r\n  MDBContainer,\r\n  MDBModal,\r\n  MDBModalBody,\r\n  MDBModalHeader,\r\n  MDBModalFooter,\r\n  MDBInput,\r\n  MDBBtn,\r\n} from \"mdbreact\";\r\nimport ContactUsTable from \"./Components/ContactUsTable.js\";\r\nimport \"../css/Admin.css\";\r\nclass ContactUsMangment extends Component {\r\n  state = {\r\n    messages: [],\r\n  };\r\n\r\n  deleteMessage = (id) => {\r\n    var itemId = id;\r\n    db.collection(\"ContactUs\")\r\n      .doc(`${id}`)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Document successfully deleted!\");\r\n        var tempMessage = this.state.messages.filter((item, index) => {\r\n          if (itemId != item.id) {\r\n            return item;\r\n          }\r\n        });\r\n        this.setState({\r\n          messages: tempMessage,\r\n        });\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n  //   addFeedBack = (name, txt) => {\r\n  //     this.setState({\r\n  //       [\"modal16\"]: !this.state[\"modal16\"],\r\n  //     });\r\n  //     $(\".feedBackForm\")[0].classList.remove(\"was-validated\");\r\n  //     db.collection(\"FeedBack\")\r\n  //       .add({\r\n  //         name: name,\r\n  //         feedBackTxt: txt,\r\n  //       })\r\n  //       .then((docRef) => {\r\n  //         docRef.get().then((doc) => {\r\n  //           this.setState({\r\n  //             feedBack: [...this.state.feedBack, doc],\r\n  //           });\r\n  //         });\r\n  //       })\r\n  //       .catch(function (error) {\r\n  //         console.error(\"Error adding document: \", error);\r\n  //       });\r\n  //   };\r\n\r\n  //   toggle = (nr) => () => {\r\n  //     let modalNumber = \"modal\" + nr;\r\n  //     this.setState({\r\n  //       [modalNumber]: !this.state[modalNumber],\r\n  //     });\r\n  //   };\r\n\r\n  fetchData = () => {\r\n    db.collection(\"ContactUs\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((item, index) => {\r\n          this.setState({\r\n            messages: [...this.state.messages, item],\r\n          });\r\n        });\r\n      });\r\n  };\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n  //   submitHandler = (name, txt) => {\r\n  //     console.log(name);\r\n  //     console.log(txt);\r\n  //     if ($(\".feedBackForm\")[0].checkValidity()) {\r\n  //       this.addFeedBack(name, txt);\r\n  //     }\r\n  //     $(\".feedBackForm\")[0].classList.add(\"was-validated\");\r\n  //   };\r\n\r\n  render() {\r\n    return (\r\n      <MDBContainer>\r\n        <ContactUsTable\r\n          deleteMessage={this.deleteMessage}\r\n          //   toggle={this.toggle}\r\n          messages={this.state.messages}\r\n        />\r\n        {/* <MDBModal\r\n          position=\"left-top\"\r\n          isOpen={this.state.modal16}\r\n          toggle={this.toggle(16)}\r\n        >\r\n          <MDBModalHeader dir=\"rtl\">הוסף פידבק</MDBModalHeader>\r\n          <MDBModalBody>\r\n            <form noValidate className=\"needs-validation feedBackForm\">\r\n              <MDBInput\r\n                required\r\n                type=\"text\"\r\n                className=\"col text-right\"\r\n                hint=\"שם כותב הפידבק\"\r\n                getValue={(e) =>\r\n                  this.setState({ ...this.state, feedBackName: e })\r\n                }\r\n              >\r\n                <div className=\"invalid-tooltip\">חובה להכניס שם כותב</div>\r\n              </MDBInput>\r\n\r\n              <MDBInput\r\n                required\r\n                hint=\"תוכן הפידבק\"\r\n                type=\"textarea\"\r\n                className=\"col text-right\"\r\n                getValue={(e) =>\r\n                  this.setState({ ...this.state, feedBackText: e })\r\n                }\r\n              >\r\n                <div className=\"invalid-tooltip\">חובה להכניס תוכן</div>\r\n              </MDBInput>\r\n            </form>\r\n          </MDBModalBody>\r\n          <MDBModalFooter>\r\n            <MDBBtn color=\"danger\" onClick={this.toggle(16)}>\r\n              סגור\r\n            </MDBBtn>\r\n            <MDBBtn\r\n              onClick={() => {\r\n                this.submitHandler(\r\n                  this.state.feedBackName,\r\n                  this.state.feedBackText\r\n                );\r\n              }}\r\n              color=\"warning\"\r\n            >\r\n              שלח פידבק\r\n            </MDBBtn>\r\n          </MDBModalFooter>\r\n        </MDBModal> */}\r\n      </MDBContainer>\r\n    );\r\n  }\r\n}\r\nexport default ContactUsMangment;\r\n"]},"metadata":{},"sourceType":"module"}